package br.com.each.calculos;import java.util.Collection;import br.com.each.modelo.atividadefisica.AtividadeFisica;import br.com.each.modelo.paciente.Intensidade;import br.com.each.modelo.paciente.Paciente;public class CalculoCaloria {	private Collection<AtividadeFisica> atividadesFisica;	private Intensidade intensidade;	private Double volorTotal;	private Paciente paciente;	private CalculoCaloria(Paciente paciente, Intensidade intensidade) {		this.paciente = paciente;		this.intensidade = intensidade;		this.atividadesFisica = paciente.getAtividadesFisica();		volorTotal = 0D;	}	public static Double getCaloriaPorAtividadeLeve(Paciente paciente) {		return new CalculoCaloria(paciente, Intensidade.LEVE).getCaloriaPorIntensidade();	}	public static Double getCaloriaPorAtividadeModerada(Paciente paciente) {		return new CalculoCaloria(paciente, Intensidade.MODERADO).getCaloriaPorIntensidade();	}	public static Double getCaloriaPorAtividadeVigorosa(Paciente paciente) {		return new CalculoCaloria(paciente, Intensidade.VIGOROSO).getCaloriaPorIntensidade();	}	public static Double getCaloriaTotal(Paciente paciente) {		return new CalculoCaloria(paciente, null).getCaloriaTotal();	}	public static Double getCaloriaTotalSemAtividadeSedentaria(Paciente paciente) {		return new CalculoCaloria(paciente, null).getCaloriaTotal()				- new CalculoCaloria(paciente, Intensidade.SEDENTARIO).getCaloriaTotal();	}	private Double getCaloriaPorIntensidade() {		for (AtividadeFisica atividadeFisica : atividadesFisica) {			volorTotal = somaCaloriaConformeAIntensidade(volorTotal, atividadeFisica);		}		return volorTotal;	}	private Double somaCaloriaConformeAIntensidade(Double volorTotal, AtividadeFisica atividadeFisica) {		if (atividadeFisica.ehUmaAtividadeComEssa(intensidade)) {			volorTotal += atividadeFisica.getCaloriaPorAtividadeFisica(paciente);		}		return volorTotal;	}	private Double getCaloriaTotal() {		for (AtividadeFisica atividadeFisica : atividadesFisica) {			volorTotal += atividadeFisica.getCaloriaPorAtividadeFisica(paciente);		}		return volorTotal;	}}